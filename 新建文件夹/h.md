### 收获

在代码的阅读中及相关知识的查询了解到了设计模式以及其中的工厂模式和装饰器模式。

## 装饰器模式：
 装饰模式能够实现动态的为对象添加功能，是从一个对象外部来给对象添加功能。通常给对象添加功能，要么直接修改对象添加相应的功能，要么派生对应的子类来扩展，抑或是使用对象组合的方式。显然，直接修改对应的类这种方式并不可取。在面向对象的设计中，而我们也应该尽量使用对象组合，而不是对象继承来扩展和复用功能。装饰器模式就是基于对象组合的方式，可以很灵活的给对象添加所需要的功能。装饰器模式的本质就是动态组合。动态是手段，组合才是目的。总之，装饰模式是通过把复杂的功能简单化，分散化，然后再运行期间，根据需要来动态组合的这样一个模式。
 
 ## 工厂模式：
 　　1、由来　　　　

　　当我们创建一个对象，而这个对象的创建过程序纷繁复杂，可能导致大量的重复代码的时候，工厂模式出现了。工厂方法模式通过定义一个单独的创建对象的方法来解决这些问题。由子类实现这个方法来创建具体类型的对象。也就是说，在我们的实际运用中，工厂就是一个用来创建其他对象的对象。

　　2、实质

　　定义一个创建对象的接口，但让实现这个接口的类来决定实例化哪个类。工厂方法让类的实例化推迟到子类中进行。

　　3、现状介绍

　　工厂模式目前有三个分支，简单工厂模式，工厂方法模式和抽象工厂方法模式，其中，我主要学习的是抽象工厂方法模式，因为该方法是工厂模式中最高层的方法。简单工厂模式，工厂类根据传参不同得到不同的产品。工厂方法模式能够创建这个系列中的各种产品，比如，iphone的各种配件。而抽象工厂模式作为更高级的模式，它可以创建整个苹果公司各个产品流水线，比如，他可以创建生产iphone配件的工厂，可以创建生产ipad配件的工厂等等。那么，抽象工厂模式与工厂方法模式的最大区别就在于，工厂方法模式针对的是一个产品等级结构，它能够创建这一个等级结构中的产品族；而抽象工厂模式则需要面对多个产品等级结构，也就是说，抽象工厂方法模式可以工厂方法模式中的工厂。

　　4、三分支的关系

　　简单工厂模式通常伴随着对象的具体类型与工厂具体类型的一一对应，客户端代码根据需要选择合适的具体类型工厂使用。当这个选择包含复杂的逻辑时，就可以创建一个单一的工厂类，用以包含这种选择逻辑，根据参数的不同选择实现不同的具体对象。这个工厂类不需要由每个具体产品实现一个自己的具体的工厂类，所以可以将工厂方法设置为静态方法，这就有了工厂方法模式。而抽象工厂方法模式便是封装着这样一组有着共同主题的工厂方法模式中的工厂。
  
  ## js偏函数（转）
javascript中函数也早早的就是一等公民，对于javascript的偏函数这个概念，就是基于这样的基础之上。
偏函数你可以理解为工厂函数，也就是这种函数是用来当做模板来生产出函数的，因为作为一等公民，函数可以作为返回值。
首先先看一下javascript对类型的判断的例子：
`var toString = Object.prototype.toString; var isString = function (obj){ return toString.call(obj) == '[object String]'; }; var isFunction = function(obj){ return toString.call(obj) == '[object Function]'; };`
上面的例子可以看出来，两个函数不同的就是'[object Function]'，反复书写相似的代码是一种效率的浪费，如果函数比较复杂的时候，我们必须做一些抽象，那么我们声明一个偏函数来看看效果。
`
'use strict';
//偏函数
var toString = Object.prototype.toString; // var isString = function (obj){ // return toString.call(obj) == '[object String]'; // }; // var isFunction = function(obj){ // return toString.call(obj) == '[object Function]'; // };
var isType = function (type){ return function(obj){ return toString.call(obj) == '[object '+type+']'; }; };
var isString = isType('String');
var isFunction = isType('Function');
var func = function(){
};
console.log(isFunction(func));
`
isType就是一个偏函数，用来返回一个函数，返回的函数是根据入参生成的判断类型的函数。
这样用来返回函数的函数叫做偏函数。

